<section class="home">
  <div class="home__hero">
    <div class="home__hero-emoji">üéÅ</div>
    <h1 class="home__hero-title">–ü–æ–¥–±–µ—Ä–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫</h1>
    <p class="home__hero-desc">–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Äî –∏ –º—ã –ø–æ–¥–±–µ—Ä—ë–º –¥–ª—è –≤–∞—Å –ª—É—á—à–∏–µ –∏–¥–µ–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –¥–ª—è –ª—é–±–æ–≥–æ —Å–ª—É—á–∞—è –∏ –±—é–¥–∂–µ—Ç–∞.</p>
  </div>
  @if (stage === 'form') {
    <form class="home__finder" [formGroup]="form" (ngSubmit)="submit()">
      <div class="home__field">
        <label for="occasion">–ü–æ–≤–æ–¥</label>
        <tui-textfield>
          <select
            id="occasion"
            tuiSelect
            [items]="occasions"
            placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–≤–æ–¥"
            formControlName="occasion"
            required
          ></select>
        </tui-textfield>
      </div>

      <div class="home__field">
        <label for="budget">–ë—é–¥–∂–µ—Ç</label>
        <tui-textfield>
          <select
            id="budget"
            tuiSelect
            [items]="budgets"
            placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –±—é–¥–∂–µ—Ç"
            formControlName="budget"
            required
          ></select>
        </tui-textfield>
      </div>

      <fieldset class="home__field">
        <legend>–ò–Ω—Ç–µ—Ä–µ—Å—ã</legend>
        <div class="home__chips" formArrayName="interests">
          @for (interest of interestsList; let i = $index; track interest) {
            <label class="home__chip">
              <input type="checkbox" tuiCheckbox [formControlName]="i" />
              <span>{{ interest }}</span>
            </label>
          }
        </div>
      </fieldset>

  <button type="submit" class="home__button home__button_primary home__cta" tuiButton appearance="primary">üîç –ù–∞–π—Ç–∏ –ø–æ–¥–∞—Ä–æ–∫</button>
    </form>
  }

  @if (stage === 'loading') {
    <div class="home__loading">
      <div class="home__spinner"></div>
      –î—É–º–∞–µ–º –Ω–∞–¥ –ø–æ–¥–∞—Ä–∫–æ–º‚Ä¶
    </div>
  }

  @if (stage === 'result' && selectedGift) {
    <div class="home__result">
      <app-gift-item [gift]="selectedGift" [isClickable]="false" />
      <div class="home__actions">
        <button type="button" class="home__button home__button_secondary" tuiButton appearance="secondary" (click)="viewCatalog()">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ–¥–∞—Ä–∫–∏</button>
      </div>
    </div>
  }
</section>


